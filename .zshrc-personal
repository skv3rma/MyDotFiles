############################## Start : Luke Smitht
# History in cache directory:
# HISTSIZE=1000
# SAVEHIST=1000
# HISTFILE=~/.cache/zsh/history
# HIST_STAMPS="%d/%m/%y %T"
# Basic auto/tab complete:


########## DWM Java App Fix
export QT_QPA_PLATFORMTHEME="gtk2"	# Have QT use gtk2 theme.
export MOZ_USE_XINPUT2="1"		# Mozilla smooth scrolling/touchpads.
export AWT_TOOLKIT="MToolkit wmname LG3D"	#May have to install wmname
export _JAVA_AWT_WM_NONREPARENTING=1	# Fix for Java applications in dwm
export SUDO_ASKPASS="$HOME/.local/bin/dmenupass"

export XDG_CONFIG_HOME="$HOME/.config"
##################### colored man pages
export LESS=-R
export LESS_TERMCAP_mb=$'\E[1;31m'     # begin blink
export LESS_TERMCAP_md=$'\E[1;36m'     # begin bold
export LESS_TERMCAP_me=$'\E[0m'        # reset bold/blink
export LESS_TERMCAP_so=$'\E[01;44;33m' # begin reverse video
export LESS_TERMCAP_se=$'\E[0m'        # reset reverse video
export LESS_TERMCAP_us=$'\E[1;32m'     # begin underline
export LESS_TERMCAP_ue=$'\E[0m'        # reset underline

export WINIT_HIDPI_FACTOR=1.0
export EDITOR="nvim"
export READER="zathura"
# export TERMINAL="alacritty"
export BROWSER="brave"
export POPUP_BROWSER="qutebrowser"
export VIDEO="mpv"
export IMAGE="sxiv"
export COLORTERM="truecolor"
export OPENER="xdg-open"
export PAGER="less"
export WM="LG3D"
export BAT_THEME="Nord"
# export TERM="xterm-256color"

export ANNOTATED_WALL_HOME="$HOME/Pictures/annotated-wallpapers"
export CURRENT_TRAINING="$HOME/Projects/trainings/train_java.csv"

autoload -Uz compinit
zstyle ':completion:*' menu select
zmodload zsh/complist
compinit
setopt COMPLETE_ALIASES
_comp_options+=(globdots)		# Include hidden files.

# vi mode
bindkey -v
export KEYTIMEOUT=1

# Use vim keys in tab complete menu:
bindkey -M menuselect 'h' vi-backward-char
bindkey -M menuselect 'k' vi-up-line-or-history
bindkey -M menuselect 'l' vi-forward-char
bindkey -M menuselect 'j' vi-down-line-or-history
bindkey -v '^?' backward-delete-char

# Change cursor shape for different vi modes.
function zle-keymap-select {
  if [[ ${KEYMAP} == vicmd ]] ||
     [[ $1 = 'block' ]]; then
    echo -ne '\e[1 q'
  elif [[ ${KEYMAP} == main ]] ||
       [[ ${KEYMAP} == viins ]] ||
       [[ ${KEYMAP} = '' ]] ||
       [[ $1 = 'beam' ]]; then
    echo -ne '\e[5 q'
  fi
}
zle -N zle-keymap-select
zle-line-init() {
    zle -K viins # initiate `vi insert` as keymap (can be removed if `bindkey -V` has been set elsewhere)
    echo -ne "\e[5 q"
}
zle -N zle-line-init
echo -ne '\e[5 q' # Use beam shape cursor on startup.
preexec() { echo -ne '\e[5 q' ;} # Use beam shape cursor for each new prompt.

# Use lf to switch directories and bind it to ctrl-o
lfcd () {
    tmp="$(mktemp)"
    lf -last-dir-path="$tmp" "$@"
    if [ -f "$tmp" ]; then
        dir="$(cat "$tmp")"
        rm -f "$tmp"
        [ -d "$dir" ] && [ "$dir" != "$(pwd)" ] && cd "$dir"
    fi
}
bindkey -s '^o' 'lfcd\n'

# Edit line in vim with ctrl-e:
autoload edit-command-line; zle -N edit-command-line
bindkey '^e' edit-command-line

############################# End : Luke Smith
ZSH_THEME="spaceship"
source ~/.zsh_spaceship.sh

# SPACESHIP_PROMPT_ADD_NEWLINE=true
# SPACESHIP_PROMPT_SEPARATE_LINE=true
# SPACESHIP_CHAR_SYMBOL=‚ùØ
# SPACESHIP_CHAR_SUFFIX=" "
# SPACESHIP_HG_SHOW=false
# SPACESHIP_PACKAGE_SHOW=false
# SPACESHIP_NODE_SHOW=false
# SPACESHIP_RUBY_SHOW=false
# SPACESHIP_ELM_SHOW=false
# SPACESHIP_ELIXIR_SHOW=false
# SPACESHIP_XCODE_SHOW_LOCAL=false
# SPACESHIP_SWIFT_SHOW_LOCAL=false
# SPACESHIP_GOLANG_SHOW=false
# SPACESHIP_PHP_SHOW=true
# SPACESHIP_JAVA_SHOW=true
# SPACESHIP_MAVEN_SHOW=true
# SPACESHIP_RUST_SHOW=false
# SPACESHIP_JULIA_SHOW=false
# SPACESHIP_DOCKER_SHOW=false
# SPACESHIP_DOCKER_CONTEXT_SHOW=false
# SPACESHIP_AWS_SHOW=false
# SPACESHIP_CONDA_SHOW=false
# SPACESHIP_VENV_SHOW=true
# SPACESHIP_PYENV_SHOW=true
# SPACESHIP_DOTNET_SHOW=false
# SPACESHIP_EMBER_SHOW=false
# SPACESHIP_KUBECONTEXT_SHOW=false
# SPACESHIP_TERRAFORM_SHOW=false
# SPACESHIP_TERRAFORM_SHOW=false
# SPACESHIP_VI_MODE_SHOW=false
# SPACESHIP_JOBS_SHOW=false

#################### End : Luke Smith ####################

export MYVIMRC="$HOME/.config/nvim/init.vim"
### fuzzy finder
export FZF_DEFAULT_COMMAND='rg --files'
export FZF_DEFAULT_OPTS='--height 40% --layout=reverse --border'
export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"
### exports
export DEVTOOLS="$HOME/DevTools"
export ECLIPSE_HOME="$HOME/DevTools/IDES/eclipse"
export PATH=$PATH:$ECLIPSE_HOME

export JDK8="/usr/lib/jvm/java-8-openjdk"
export JDK11="/usr/lib/jvm/java-11-openjdk"
export JDK11_DCEVM="${HOME}/DevTools/dcevm-11.0.5+5"
### jdk j9
export JDK8_J9="$DEVTOOLS/jdk/jdk8u242-b08"
export JDK11_J9="$DEVTOOLS/jdk/jdk-11.0.6+10"
export JRE11_J9="$DEVTOOLS/jdk/jdk-11.0.6+10-jre"
### jdk zulu
export JDK8_ZULU="$DEVTOOLS/jdk/zulu8.44.0.11-ca-jdk8.0.242-linux_x64"
export JDK11_ZULU="$DEVTOOLS/jdk/zulu11.37.17-ca-jdk11.0.6-linux_x64"


export JAVA_HOME=$JDK8

export PATH=$HOME/bin:/usr/local/bin:$PATH
export PATH=$PATH:$HOME/.local/bin

### ANDROID#####
export ANDROID_HOME=$HOME/DevTools/android-sdk
export PATH=$PATH:$ANDROID_HOME/platform-tools
export PATH=$PATH:$ANDROID_HOME/tools

### GRADLE ##############

export PATH=$PATH:$HOME/DevTools/gradle-4.3/bin

### JAVA

###export JAVA_HOME=/usr/lib/jvm/java-1.11.0-openjdk-amd64
### GRAAL VM
#export JAVA_HOME=/home/kcamp/DevTools/graalvm-ce-1.0.0-rc11
#export JAVA_HOME=/opt/jdk/jdk-10.0.2
export PATH=$PATH:$JAVA_HOME/bin

### ACTIVE-MQ
export ACTIVEMQ_HOME=${HOME}/DevTools/apache-activemq-5.15.11
export PATH=$PATH:$ACTIVEMQ_HOME/bin

export IMQ_HOME=${HOME}/DevTools/mq
export PATH=$PATH:$IMQ_HOME/bin


export PATH_TO_FX=/usr/lib/jvm/javafx-sdk-11.0.2/lib
export PATH=$PATH:$PATH_TO_FX
## JBOSS FORGE HOME
export FORGE_HOME=$HOME/DevTools/forge-distribution-3.9.6.Final
export PATH=$PATH:$FORGE_HOME/bin
### H2DB
export H2_HOME=$HOME/DevTools/h2
export H2=$H2_HOME
export PATH=$PATH:$H2_HOME/bin

####################### SERVERS ############################################
### TOMCAT
# export CATALINA_HOME=/home/kcamp/DevTools/SERVERS/apache-tomcat-9.0.14
# export PATH=$PATH:$CATALINA_HOME/bin

export GLASSFISH_HOME=${HOME}/DevTools/SERVERS/glassfish5
export PAYARA_HOME=${HOME}/DevTools/SERVERS/payara5
export TOMEE_HOME=${HOME}/DevTools/SERVERS/tomee
export LIBERTY_HOME=${HOME}/DevTools/SERVERS/open-liberty
export VISUALVM=${HOME}/DevTools/visualvm_20
export PATH=$PATH:$VISUALVM/bin

### MAVEN
export M2_HOME=$HOME/DevTools/apache-maven-3.6.0
export M2=$M2_HOME
export PATH=$PATH:$M2_HOME/bin

export jvmOptions="-Xmx1g -Xms1g -XXaltjvm=dcevm -javaagent:$HOME/DevTools/hotswap-agent.jar -XX:+UnlockDiagnosticVMOptions -XX:+EnableInvokeDynamic"

#export MAVEN_OPTS=$jvmOptions

export PATH=$PATH:$HOME/bin
export JULIA_HOME="${HOME}/DevTools/julia-1.4.2"
export PATH=$PATH:$JULIA_HOME/bin

### LARAVEL PATH
export PATH=$PATH:$HOME/.config/composer/vendor/bin


# export PATH="$PATH":"~/.pub-cache/bin"

export PATH="$HOME/.cargo/bin:$PATH"

#### VS Code ####
export CODE_HOME="$HOME/DevTools/VSCode-linux-x64"
export PATH=$CODE_HOME/bin:$PATH

#### db credentials ####
export DB_SOURCE_NAME="mysql:host=localhost;dbname=collegedb"
export DB_USER="root"
export DB_PASSWORD="kodecamp"

### web service credentials ####
export REST_API_URL="http://mydemoapi.com/api"
export REST_API_USER="admin"
export REST_API_PASSWORD="admin"

################################ aliases ####################################

### jvm change
alias jdk8="export JAVA_HOME="$JDK8""
alias jdk11="export JAVA_HOME="$JDK11""

alias jdk8J9="export JAVA_HOME="$JDK8_J9""
alias jdk11J9="export JAVA_HOME="$JDK11_J9""

alias jdk11patched="export JAVA_HOME="$JDK11_DCEVM""
alias jre11J9="export JRE_HOME="$JRE11_J9""

alias mcp="mvn clean package"
alias mtr="mvn clean package tomee:run"
alias mkins="sudo make install"
alias mkdwm="sudo make install"

################################# configs ###################################
alias confbash="vim $HOME/.bashrc-personal"
alias confzsh="vim $HOME/.zshrc-personal"
alias szsh="source $HOME/.zshrc"
alias confst="vim $HOME/software_sources/st/config.h"
alias confkitty="vim $HOME/.config/kitty/kitty.conf"
alias confalacritty="vim $HOME/.config/alacritty/alacritty.yml"
alias confsurf="vim $HOME/software_sources/surf/config.h"
alias confvim="vim $HOME/.config/nvim/init.vim"
alias confvimkeys="vim $HOME/.config/nvim/plugins/keybindings.vim"
alias confcoc="vim $HOME/.config/nvim/coc-settings.json"
alias confvimtheme="vim $HOME/.config/nvim/themes/themes.vim"
alias confvimplug="vim $HOME/.config/nvim/plugins/plugins.vim"
alias confi3="vim $HOME/.config/i3/config"
alias confqtile="vim $HOME/.config/qtile/config.py"
alias confpoly="vim $HOME/.config/polybar/config"
alias conftmux="vim $HOME/.tmux.conf"
alias confwall="sxiv -t $HOME/Pictures/annotated-wallpapers"
alias confwallnord="sxiv -t $HOME/Pictures/nord-compat"
alias confwallnordsyntax="sxiv -t $HOME/Pictures/nord-compat/syntax"
alias confwallnordanime="sxiv -t $HOME/Pictures/nord-compat/anime"
alias confwallnordmountains="sxiv -t $HOME/Pictures/nord-compat/mountains"
alias confwallgruvbox="sxiv -t $HOME/Pictures/gruvbox-compat"
alias confconwall="sxiv -t ~/Pictures/annotated-wallpapers"
alias confqute="vim $HOME/.config/qutebrowser/config.py"
alias conftermite="vim $HOME/.config/termite/config"
alias confrofitheme="vim $HOME/.config/rofi/mytheme.rasi"
alias confdevilspie="vim $HOME/.devilspie/transparency.ds"
alias confvifm="vim $HOME/.config/vifm/vifmrc"

alias confdwm="vim ~/software_sources/dwm/config.h"

############# db tools

export DB_URL="jdbc:h2:tcp://localhost:9091/~/DevTools/Databases/UserDatabase"
export DB_USERNAME="kodecamp"
export DB_PASSWORD="kodecamp"

currentDbName="cmsDatabase.trace.db"

export DB_HOME=$HOME/DevTools/Databases
export CURRENT_DB_PATH=$DB_HOME/$currentDbName

export H2Shell="java -cp $H2_HOME/bin/h2-1.4.200.jar org.h2.tools.Shell"
export H2Server="java -cp $H2_HOME/bin/h2-1.4.200.jar org.h2.tools.Server"
export H2RunScript="java -cp $H2_HOME/bin/h2-1.4.200.jar org.h2.tools.RunScript"

#################### Task Spooler Vars
export TS_ONFINISH="tsp_finish"
export TS_ENV="tsp_start"

alias connect2UserDbShell="$H2Shell -user kodecamp -password kodecamp -url jdbc:h2:tcp://localhost:9091/~/DevTools/Databases/UserDatabase"

alias connect2AppDbShell="$H2Shell -user kodecamp -password kodecamp -url jdbc:h2:tcp://localhost:9092/~/DevTools/Databases/cmsDatabase;TRACE_LEVEL_FILE=3;"

alias runh2AppDbServer="$H2Server -tcp -tcpPort 9092 -tcpAllowOthers"

alias runh2UserDbServer="$H2Server -tcp -tcpPort 9091 -tcpAllowOthers"

alias showh2Logs="java -cp $H2_HOME/bin/h2-1.4.200.jar org.h2.tools.ConvertTraceFile -traceFile $CURRENT_DB_PATH -script $DB_HOME/log.sql"

alias runh2Script="java -cp $H2_HOME/bin/h2-1.4.200.jar org.h2.tools.RunScript -url jdbc:h2:tcp://localhost/~/DevTools/Databases/cmsDatabase -script ./script.sql"


alias runeclipse="eclipse > /dev/null &"
alias deployWar="cp $HOME/Projects/java/services/apps.tomee/services/target/services.war $HOME/Projects/java/services/apps.tomee/tomee/webapps"

############ project directoris
alias cdservices="cd $HOME/Projects/java/services"
alias cdtomee="cd $HOME/Projects/java/services/apps.tomee"
alias cdpayara="cd $HOME/Projects/java/services/apps.payara"
alias cdpayaraser="cd $HOME/Projects/java/services/apps.payara/services"
alias cdliberty="cd $HOME/Projects/java/services/apps.openliberty"
alias cdjava="cd $HOME/Projects/java"
alias cdjt="cd $HOME/Projects/java/trainings"
alias cdjavajdbc="cd $HOME/Projects/java/trainings/jdbc-concepts"
alias cdpyt="cd $HOME/Projects/python/training"
alias cdspring="cd $HOME/Projects/java/ws_spring"
alias cdrust="cd $HOME/Projects/rust"
alias cdbash="cd $HOME/Projects/bash"
alias cdscripts="cd $HOME/.local/bin"
alias cdsoftware="cd $HOME/software_sources"
alias cdtest="cd $HOME/Projects/testing"
alias cdut="cd $HOME/Videos/utube"
alias cdwebsite="cd $HOME/Projects/websites"
alias cdjavappt="cd $HOME/Projects/java/trainings/ppts"
alias cdshortcuts="cd /usr/share/applications"
alias cddwm="cd ~/software_sources/dwm"

########### aliases for maven ########

alias mcc="mvn clean compile"
alias mccst="mvn clean compile -Dmvn.test.skip=true"
alias mcpack="mvn clean package"
alias mcpackst="mvn clean package -Dmaven.test.skip=true"
alias mcins="mvn clean install"
alias mcinsst="mvn clean install -Dmaven.test.skip=true"
alias runjava="find target/ | entr $M2_HOME/bin/mvn -q exec:java"
alias runjavatest="find target/ | entr $M2_HOME/bin/mvn -q test"

########## aliases for python ########

alias esh="pipenv shell"
alias runpymain="find ./* | entr python main.py"

# runpymain() {
#   find ./* | entr $(pipenv --venv)/bin/python main.py
# }

runpy() {
  find ./* | entr python $1
}

########### aliases for System command
alias lsd="lsd -Flart"
alias li="sxiv -t ."
alias tx="tmux"
alias vim="nvim"
alias vime="nvim '+CocCommand explorer --sources=file+'"
alias tree="tree | lolcat"
alias cat="bat --italic-text always"
# alias vifmg="~/.config/vifm/scripts/vifmimg"
alias vr="~/.config/vifm/scripts/vifmrun"
alias ..="cd .."
alias ...="cd ../../"
alias brh="br -h"
alias brf="br -f"
alias brd="br -d"
alias bra="br -hfds"
alias cheat="cheat -c"
alias rm="rm -i"

alias cp="cp -iv"
alias mv="mv -iv"
alias newsboat="nb"
alias ws="weather"
alias wf="curl wttr.in"
alias dad="dragon-drag-and-drop -a -x"
alias sf="surf ~/.surf/html/homepage.html"

mkcd() {
  mkdir $1
  cd $1
}

########## aliases for DotFiles
alias dotfiles="/usr/bin/git --git-dir=$HOME/MyDotFiles --work-tree=$HOME"


[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh


source ~/.config/broot/launcher/bash/br
### m and sm command availability
source ~/.local/bin/utils

banner "kodecamp" | lolcat

#################### temp aliases
alias lets_discuss="banner-bg \"Java Enterprise Edition 8\" | lolcat; banner kodecamp"

#################### Suffix aliases ##########################
alias -s {png,jpg}="sxiv"
alias -s {md,txt,csv,h,c,html,css,js,ts}="nvim"
alias -s {mkv,mp4,avi}="celluloid"

# pfetch
